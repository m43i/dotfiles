# Color mode
set -g default-terminal "$TERM"
set -ag terminal-overrides ",$TERM:Tc"

# Mouse
set -g mouse on

# Start window numbering at 1
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# reset split
unbind %
unbind l
bind l split-window -h -c "#{pane_current_path}"

unbind '"'
unbind j
bind j split-window -v -c "#{pane_current_path}"

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'

# Kanagawa colors
set -g status-style "bg=#1F1F28,fg=#DCD7BA"
set -g message-style "bg=#1F1F28,fg=#DCD7BA"

# Pane borders and separators
set -g pane-border-style "fg=#54546D"
set -g pane-active-border-style "fg=#54546D"
set -g pane-border-lines heavy

set -g pane-border-status bottom
set -g pane-border-format "#[bg=#54546D,fg=#54546D]"

# Status bar at bottom with top border
set -g status-position bottom
set -g status-justify left
set -g status-interval 15

# Simple status bar
set -g status-left "#[fg=#7E9CD8]#S #[fg=#54546D]│ "
set -g status-left-length 50

set -g status-right "#[fg=#54546D] #(iw dev wlan0 link 2>/dev/null | awk '/SSID/ {print \"󰖩 \" \$2}' || (ip link show | grep -E 'eth|enp' | grep -q 'state UP' && echo '󰈁 ethernet') || echo '󰖪 disconnected') │  #(cat /sys/class/power_supply/BAT*/capacity 2>/dev/null || echo '')#(test -f /sys/class/power_supply/BAT*/capacity && echo '%' || echo '')#(grep -q 'Charging' /sys/class/power_supply/BAT*/status 2>/dev/null && echo ' 󱐋' || echo '')#(test -f /sys/class/power_supply/BAT*/capacity && echo ' │ ' || echo '') %H:%M %d.%m.%Y"
set -g status-right-length 80

# Window status
set -g window-status-format "#[fg=#54546D]#I:#W"
set -g window-status-current-format "#[fg=#DCD7BA,bold]#I:#W"
set -g window-status-separator "  "

run '~/.tmux/plugins/tpm/tpm'
